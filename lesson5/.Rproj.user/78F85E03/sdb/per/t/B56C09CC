{
    "collab_server" : "",
    "contents" : "Lesson 5\n========================================================\n\n### Multivariate Data\nNotes:\n\n***\n\n### Moira Perceived Audience Size Colored by Age\nNotes:\n\n***\n\n### Third Qualitative Variable\nNotes:\n\n```{r Third Qualitative Variable}\nggplot(aes(x = gender, y = age),\n       data = subset(pf, !is.na(gender))) + geom_histogram()\n```\n\n***\n\n### Plotting Conditional Summaries\nNotes:\n\n```{r Plotting Conditional Summaries}\ngetwd()\nsetwd(\"/Users/Kharitonov/Desktop/udacity_r/lesson4\")\npf <- read_tsv(\"/Users/Kharitonov/Desktop/udacity_r/lesson4/pseudo_facebook.tsv\")\npf.fc_by_age_gender <- pf %>%\n  filter(!is.na(gender)) %>% \n  group_by(age, gender) %>% \n  summarise(mean_friend_count = mean(friend_count),\n            median_friend_count = median(friend_count),\n            n = n()) %>% \n  ungroup() %>% \n  arrange(age)\n\nggplot(pf.fc_by_age_gender, aes(x = age, y = median_friend_count, color = gender)) + \n  geom_line()\n```\n\n***\n\n### Thinking in Ratios\nNotes:\n\n***\n\n### Wide and Long Format\nNotes:\n\n***\n\n### Reshaping Data\nNotes:\n\n```{r}\ninstall.packages('reshape2')\nlibrary(reshape2)\nlibrary(tidyr)\n\nspread(subset(pf.fc_by_age_gender, select = c('gender', 'age', 'median_friend_count')), gender, median_friend_count)\n\npf.fc_by_age_gender.wide <- dcast(pf.fc_by_age_gender,\n                                  age ~ gender, value.var = \"median_friend_count\")\n\n```\n\n\n***\n\n### Ratio Plot\nNotes:\n\n```{r Ratio Plot}\n\nggplot(pf.fc_by_age_gender.wide, aes(y = female/male, x = age)) + geom_line() +\n  geom_hline(yintercept = 1, linetype = \"dashed\", color = \"red\")\n\n```\n\n***\n\n### Third Quantitative Variable\nNotes:\n\n```{r Third Quantitative Variable}\n\npf$year_joined <- 2014 - ceiling(pf$tenure/365)\n\n```\n\n***\n\n### Cut a Variable\nNotes:\n\n```{r Cut a Variable}\n\npf$year_joined.bucket <- cut(pf$year_joined, breaks = c(2004, 2009, 2011, 2012, 2014))\n\n```\n\n***\n\n### Plotting it All Together\nNotes:\n\n```{r Plotting it All Together}\nggplot(subset(pf, !is.na(year_joined.bucket)), aes(x = age, y = friend_count)) + \n  geom_line(aes(color = year_joined.bucket),fun.y = mean, stat = \"summary\")\n\n```\n\n***\n\n### Plot the Grand Mean\nNotes:\n\n```{r Plot the Grand Mean}\nggplot(subset(pf, !is.na(year_joined.bucket)), aes(x = age, y = friend_count)) + \n  geom_line(aes(color = year_joined.bucket),fun.y = mean, stat = \"summary\") +\n  geom_line(fun.y = mean, linetype = \"dashed\", stat = \"summary\")\n```\n\n***\n\n### Friending Rate\nNotes:\n\n```{r Friending Rate}\nlibrary(dplyr)\n\npf_friends <- pf %>% filter(tenure > 0) %>%  mutate(friending_rate = friend_count/tenure)\n\nmax(pf_friends$friending_rate)\n\n```\n\n***\n\n### Friendships Initiated\nNotes:\n\nWhat is the median friend rate?\n\nWhat is the maximum friend rate?\n\n```{r Friendships Initiated}\n\npf_friends <- pf_friends %>% mutate(friendshipping_rate = friendships_initiated/tenure)\n\nggplot(pf_friends, aes(x = tenure, y = friendshipping_rate)) +\n  geom_smooth(aes(color = year_joined.bucket), fun.y = mean)\n\n```\n\n***\n\n### Bias-Variance Tradeoff Revisited\nNotes:\n\n```{r Bias-Variance Tradeoff Revisited}\n\nggplot(aes(x = tenure, y = friendships_initiated / tenure),\n       data = subset(pf, tenure >= 1)) +\n  geom_line(aes(color = year_joined.bucket),\n            stat = 'summary',\n            fun.y = mean)\n\nggplot(aes(x = 7 * round(tenure / 7), y = friendships_initiated / tenure),\n       data = subset(pf, tenure > 0)) +\n  geom_line(aes(color = year_joined.bucket),\n            stat = \"summary\",\n            fun.y = mean)\n\nggplot(aes(x = 30 * round(tenure / 30), y = friendships_initiated / tenure),\n       data = subset(pf, tenure > 0)) +\n  geom_line(aes(color = year_joined.bucket),\n            stat = \"summary\",\n            fun.y = mean)\n\nggplot(aes(x = 90 * round(tenure / 90), y = friendships_initiated / tenure),\n       data = subset(pf, tenure > 0)) +\n  geom_line(aes(color = year_joined.bucket),\n            stat = \"summary\",\n            fun.y = mean)\n\n```\n\n***\n\n### Sean's NFL Fan Sentiment Study\nNotes:\n\n***\n\n### Introducing the Yogurt Data Set\nNotes:\n\n***\n\n### Histograms Revisited\nNotes:\n\n```{r Histograms Revisited}\n\nyo <- read.csv(\"yogurt.csv\")\nyo$id <- factor(yo$id)\n\nggplot(yo, aes(x = price)) + geom_histogram(binwidth = 10)\n\n```\n\n***\n\n### Number of Purchases\nNotes:\n\n```{r Number of Purchases}\n\nyo <- yo %>% mutate(all.purchases = strawberry + blueberry + pina.colada + plain + mixed.berry)\n\n```\n\n***\n\n### Prices over Time\nNotes:\n\n```{r Prices over Time}\n\nggplot(yo, aes(x = time, y = price)) + geom_point(alpha = 0.05)\n\n```\n\n***\n\n### Sampling Observations\nNotes:\n\n***\n\n### Looking at Samples of Households\n\n```{r Looking at Sample of Households}\n\nset.seed(1313)\nsample_id <- sample(levels(yo$id),18, replace = FALSE)\n\nggplot(subset(yo, id %in% sample_id), aes(x = time, y = price)) +\n  facet_wrap(~id) +\n  geom_line() +\n  geom_point(size = yo$all.purchases)\n\n\n```\n\n***\n\n### The Limits of Cross Sectional Data\nNotes:\n\n***\n\n### Many Variables\nNotes:\n\n***\n\n### Scatterplot Matrix\nNotes:\n\n```{r Scatterplot Matrix}\n\ninstall.packages(\"GGally\")\nlibrary(GGally)\n\nset.seed(1836)\nggpairs(pf_subset[sample.int(nrow(pf), 1000), -1] )\npf_subset <- pf[sample.int(nrow(pf), 1000),]\n\ncor.test(pf_subset$friendships_initiated, pf_subset$friend_count)\ncor.test(pf_subset$age, pf_subset$mobile_likes)\n\n\n```\n\n***\n\n### Even More Variables\nNotes:\n\n***\n\n### Heat Maps\nNotes:\n\n```{r}\nnci <- read.table(\"nci.tsv\")\ncolnames(nci) <- c(1:64)\n```\n\n```{r}\nnci.long.samp <- melt(as.matrix(nci[1:200,]))\nnames(nci.long.samp) <- c(\"gene\", \"case\", \"value\")\nhead(nci.long.samp)\n\nggplot(aes(y = gene, x = case, fill = value),\n  data = nci.long.samp) +\n  geom_tile() +\n  scale_fill_gradientn(colours = colorRampPalette(c(\"blue\", \"red\"))(100))\n```\n\n\n***\n\n### Analyzing Three of More Variables\nReflection:\n\n***\n\nClick **KnitHTML** to see all of your hard work and to have an html\npage of this lesson, your answers, and your notes!\n\n",
    "created" : 1487620571213.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4083787009",
    "id" : "B56C09CC",
    "lastKnownWriteTime" : 1487938855,
    "last_content_update" : 1487945856881,
    "path" : "~/Desktop/udacity_r/lesson5/lesson5_student.rmd",
    "project_path" : "lesson5_student.rmd",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}